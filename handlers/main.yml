---
# Handlers for ansible-wordpress-enterprise

- name: restart php-fpm
  ansible.builtin.systemd:
    name: "{{ wordpress_php_fpm_service }}"
    state: restarted
    daemon_reload: true
  become: true

- name: reload nginx
  ansible.builtin.systemd:
    name: nginx
    state: reloaded
  become: true

- name: restart nginx
  ansible.builtin.systemd:
    name: nginx
    state: restarted
  become: true

- name: reload apache
  ansible.builtin.systemd:
    name: "{{ wordpress_apache_service }}"
    state: reloaded
  become: true

- name: restart apache
  ansible.builtin.systemd:
    name: "{{ wordpress_apache_service }}"
    state: restarted
  become: true

- name: restart mysql
  ansible.builtin.systemd:
    name: "{{ wordpress_mysql_service }}"
    state: restarted
  become: true

- name: restart mariadb
  ansible.builtin.systemd:
    name: "{{ wordpress_mariadb_service }}"
    state: restarted
  become: true

- name: restart redis
  ansible.builtin.systemd:
    name: redis
    state: restarted
  become: true

- name: restart memcached
  ansible.builtin.systemd:
    name: memcached
    state: restarted
  become: true

- name: restart fail2ban
  ansible.builtin.systemd:
    name: fail2ban
    state: restarted
  become: true

- name: reload firewalld
  ansible.builtin.systemd:
    name: firewalld
    state: reloaded
  become: true

- name: Restart php-fpm
  ansible.builtin.systemd:
    name: "{{ wordpress_php_fpm_service }}"
    state: restarted
  become: true

- name: Reload nginx
  ansible.builtin.systemd:
    name: nginx
    state: reloaded
  become: true

- name: Reload apache
  ansible.builtin.systemd:
    name: "{{ wordpress_apache_service }}"
    state: reloaded
  become: true

- name: Restart apache
  ansible.builtin.systemd:
    name: "{{ wordpress_apache_service }}"
    state: restarted
  become: true

- name: Restart redis
  ansible.builtin.systemd:
    name: redis
    state: restarted
  become: true

- name: Restart fail2ban
  ansible.builtin.systemd:
    name: fail2ban
    state: restarted
  become: true

- name: "Reload nginx"
  ansible.builtin.systemd:
    name: nginx
    state: reloaded
  become: true

- name: "Reload apache"
  ansible.builtin.systemd:
    name: "{{ wordpress_apache_service }}"
    state: reloaded
  become: true