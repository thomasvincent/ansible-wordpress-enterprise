---
# WordPress Enterprise Role Default Variables

# ============================================================================
# WordPress Core Configuration
# ============================================================================
wordpress_version: "latest"  # Specify version like "6.4.2" or "latest"
wordpress_install_dir: "/var/www/wordpress"
wordpress_download_url: "https://wordpress.org/wordpress-{{ wordpress_version }}.tar.gz"
wordpress_site_url: "https://{{ ansible_fqdn }}"
wordpress_site_title: "Enterprise WordPress Site"

# WordPress admin user
wordpress_admin_user: "wpadmin"
wordpress_admin_password: "{{ lookup('password', '/dev/null length=32 chars=ascii_letters,digits') }}"
wordpress_admin_email: "admin@{{ ansible_domain | default('example.com') }}"

# ============================================================================
# Database Configuration
# ============================================================================
wordpress_db_host: "localhost"
wordpress_db_port: 3306
wordpress_db_name: "wordpress"
wordpress_db_user: "wordpress"
wordpress_db_password: "{{ lookup('password', '/dev/null length=32 chars=ascii_letters,digits') }}"
wordpress_db_charset: "utf8mb4"
wordpress_db_collate: "utf8mb4_unicode_ci"
wordpress_db_table_prefix: "wp_"

# Database engine choice: mysql or mariadb
wordpress_db_engine: "mariadb"
wordpress_db_root_password: "{{ lookup('password', '/dev/null length=32 chars=ascii_letters,digits') }}"

# ============================================================================
# Web Server Configuration
# ============================================================================
# Web server choice: nginx or apache
wordpress_web_server: "nginx"
wordpress_http_port: 80
wordpress_https_port: 443
wordpress_server_name: "{{ ansible_fqdn }}"

# PHP-FPM Configuration
wordpress_php_version: "8.2"  # 7.4, 8.0, 8.1, 8.2, 8.3
wordpress_php_fpm_listen: "/run/php/php{{ wordpress_php_version }}-fpm.sock"
wordpress_php_fpm_user: "www-data"
wordpress_php_fpm_group: "www-data"

# PHP memory and performance settings
wordpress_php_memory_limit: "512M"
wordpress_php_max_execution_time: "300"
wordpress_php_max_input_time: "300"
wordpress_php_upload_max_filesize: "256M"
wordpress_php_post_max_size: "256M"
wordpress_php_max_input_vars: "5000"

# ============================================================================
# SSL/TLS Configuration
# ============================================================================
wordpress_enable_ssl: true
wordpress_ssl_certificate: "/etc/ssl/certs/{{ wordpress_server_name }}.crt"
wordpress_ssl_certificate_key: "/etc/ssl/private/{{ wordpress_server_name }}.key"
wordpress_ssl_protocols: "TLSv1.2 TLSv1.3"
wordpress_ssl_ciphers: "ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384"
wordpress_ssl_prefer_server_ciphers: true
wordpress_ssl_session_timeout: "1d"
wordpress_ssl_session_cache: "shared:SSL:50m"
wordpress_ssl_stapling: true

# Self-signed certificate (for development)
wordpress_generate_self_signed_cert: false

# Let's Encrypt
wordpress_use_letsencrypt: false
wordpress_letsencrypt_email: "{{ wordpress_admin_email }}"

# ============================================================================
# WordPress Security Configuration
# ============================================================================
# WordPress salts and keys (auto-generated)
wordpress_auth_key: "{{ lookup('password', '/dev/null length=64 chars=ascii_letters,digits,punctuation') }}"
wordpress_secure_auth_key: "{{ lookup('password', '/dev/null length=64 chars=ascii_letters,digits,punctuation') }}"
wordpress_logged_in_key: "{{ lookup('password', '/dev/null length=64 chars=ascii_letters,digits,punctuation') }}"
wordpress_nonce_key: "{{ lookup('password', '/dev/null length=64 chars=ascii_letters,digits,punctuation') }}"
wordpress_auth_salt: "{{ lookup('password', '/dev/null length=64 chars=ascii_letters,digits,punctuation') }}"
wordpress_secure_auth_salt: "{{ lookup('password', '/dev/null length=64 chars=ascii_letters,digits,punctuation') }}"
wordpress_logged_in_salt: "{{ lookup('password', '/dev/null length=64 chars=ascii_letters,digits,punctuation') }}"
wordpress_nonce_salt: "{{ lookup('password', '/dev/null length=64 chars=ascii_letters,digits,punctuation') }}"

# Security hardening
wordpress_disable_file_edit: true
wordpress_disable_file_mods: false
wordpress_force_ssl_admin: true
wordpress_disallow_unfiltered_html: true

# Debug mode
wordpress_debug: false
wordpress_debug_log: true
wordpress_debug_display: false

# ============================================================================
# WordPress Plugins
# ============================================================================
wordpress_plugins:
  # Security plugins
  - name: "wordfence"
    version: "latest"
    state: "present"

  - name: "all-in-one-wp-security-and-firewall"
    version: "latest"
    state: "present"

  # Performance plugins
  - name: "wp-super-cache"
    version: "latest"
    state: "present"

  - name: "autoptimize"
    version: "latest"
    state: "present"

  # SEO plugins
  - name: "wordpress-seo"  # Yoast SEO
    version: "latest"
    state: "present"

  # Backup plugins
  - name: "updraftplus"
    version: "latest"
    state: "present"

  # Forms
  - name: "contact-form-7"
    version: "latest"
    state: "present"

  # Media optimization
  - name: "ewww-image-optimizer"
    version: "latest"
    state: "present"

# Additional custom plugins
wordpress_custom_plugins: []
# Example:
# wordpress_custom_plugins:
#   - name: "custom-plugin"
#     version: "1.0.0"
#     state: "present"
#     source: "https://example.com/plugins/custom-plugin-1.0.0.zip"

# ============================================================================
# WordPress Themes
# ============================================================================
wordpress_themes:
  - name: "twentytwentyfour"
    version: "latest"
    state: "present"
    activate: true

  - name: "astra"
    version: "latest"
    state: "present"
    activate: false

  - name: "generatepress"
    version: "latest"
    state: "present"
    activate: false

# Additional custom themes
wordpress_custom_themes: []
# Example:
# wordpress_custom_themes:
#   - name: "custom-theme"
#     version: "1.0.0"
#     state: "present"
#     activate: false
#     source: "https://example.com/themes/custom-theme-1.0.0.zip"

# ============================================================================
# Caching Configuration
# ============================================================================
wordpress_enable_redis: true
wordpress_redis_host: "127.0.0.1"
wordpress_redis_port: 6379
wordpress_redis_password: ""
wordpress_redis_database: 0

wordpress_enable_memcached: false
wordpress_memcached_servers:
  - "127.0.0.1:11211"

# Object cache
wordpress_enable_object_cache: true

# Opcache settings
wordpress_opcache_enable: true
wordpress_opcache_memory: "256"
wordpress_opcache_max_files: "10000"
wordpress_opcache_validate_timestamps: "0"  # 0 for production, 1 for development

# ============================================================================
# Backup Configuration
# ============================================================================
wordpress_enable_backups: true
wordpress_backup_dir: "/var/backups/wordpress"
wordpress_backup_retention_days: 30
wordpress_backup_schedule_hour: "2"
wordpress_backup_schedule_minute: "0"

# ============================================================================
# Monitoring and Logging
# ============================================================================
wordpress_enable_logging: true
wordpress_log_dir: "/var/log/wordpress"
wordpress_error_log: "{{ wordpress_log_dir }}/error.log"
wordpress_access_log: "{{ wordpress_log_dir }}/access.log"

# Log rotation
wordpress_logrotate_enabled: true
wordpress_logrotate_frequency: "daily"
wordpress_logrotate_retention: 14

# ============================================================================
# Performance Tuning
# ============================================================================
# WP-CLI installation
wordpress_install_wpcli: true
wordpress_wpcli_version: "latest"

# Cron management
wordpress_disable_wp_cron: true
wordpress_system_cron_enabled: true
wordpress_cron_schedule: "*/15 * * * *"  # Every 15 minutes

# Multisite configuration
wordpress_multisite_enabled: false
wordpress_multisite_subdomain: false  # false = subdirectory, true = subdomain

# Content Delivery Network
wordpress_enable_cdn: false
wordpress_cdn_url: ""

# ============================================================================
# System User and Permissions
# ============================================================================
wordpress_system_user: "wordpress"
wordpress_system_group: "wordpress"
wordpress_file_permissions: "0644"
wordpress_dir_permissions: "0755"

# ============================================================================
# Firewall and Security
# ============================================================================
wordpress_configure_firewall: true
wordpress_allowed_ips: []
# Example:
# wordpress_allowed_ips:
#   - "192.168.1.0/24"
#   - "10.0.0.1"

# Fail2ban
wordpress_enable_fail2ban: true
wordpress_fail2ban_maxretry: 5
wordpress_fail2ban_findtime: "10m"
wordpress_fail2ban_bantime: "1h"

# ============================================================================
# Additional WordPress Constants
# ============================================================================
wordpress_additional_constants: {}
# Example:
# wordpress_additional_constants:
#   WP_ALLOW_MULTISITE: true
#   CONCATENATE_SCRIPTS: false
#   COMPRESS_SCRIPTS: false
#   ENFORCE_GZIP: true

# ============================================================================
# System Package Management
# ============================================================================
wordpress_install_dependencies: true
wordpress_update_cache: true
wordpress_upgrade_packages: false

# ============================================================================
# Cloud Provider Configuration
# ============================================================================
# Options: none, cloudflare, digitalocean, google, azure, oracle
wordpress_cloud_provider: "none"

# Cloudflare specific
wordpress_cloudflare_enabled: false
wordpress_cloudflare_api_token: ""
wordpress_cloudflare_zone_id: ""
wordpress_cloudflare_email: ""
wordpress_cloudflare_dns_records: []
# Example:
# wordpress_cloudflare_dns_records:
#   - name: "{{ wordpress_server_name }}"
#     type: "A"
#     value: "{{ ansible_default_ipv4.address }}"
#     proxied: true

# DigitalOcean specific
wordpress_digitalocean_enabled: false
wordpress_digitalocean_token: ""
wordpress_digitalocean_spaces_enabled: false
wordpress_digitalocean_spaces_key: ""
wordpress_digitalocean_spaces_secret: ""
wordpress_digitalocean_spaces_bucket: ""
wordpress_digitalocean_spaces_region: "nyc3"
wordpress_digitalocean_cdn_enabled: false

# Google Cloud Platform specific
wordpress_gcp_enabled: false
wordpress_gcp_project_id: ""
wordpress_gcp_service_account_key: ""
wordpress_gcp_storage_enabled: false
wordpress_gcp_storage_bucket: ""
wordpress_gcp_cdn_enabled: false

# Azure specific
wordpress_azure_enabled: false
wordpress_azure_subscription_id: ""
wordpress_azure_resource_group: ""
wordpress_azure_storage_enabled: false
wordpress_azure_storage_account: ""
wordpress_azure_storage_key: ""
wordpress_azure_storage_container: ""
wordpress_azure_cdn_enabled: false

# Oracle Cloud Infrastructure specific
wordpress_oci_enabled: false
wordpress_oci_tenancy: ""
wordpress_oci_user: ""
wordpress_oci_fingerprint: ""
wordpress_oci_key_file: ""
wordpress_oci_region: ""
wordpress_oci_object_storage_enabled: false
wordpress_oci_object_storage_bucket: ""
wordpress_oci_object_storage_namespace: ""

# ============================================================================
# External Database Configuration
# ============================================================================
wordpress_use_external_db: false
wordpress_external_db_type: "mysql"  # mysql, mariadb, aurora, cloud_sql, azure_db, oracle_db
wordpress_external_db_host: ""
wordpress_external_db_port: 3306
wordpress_external_db_name: ""
wordpress_external_db_user: ""
wordpress_external_db_password: ""
wordpress_external_db_ssl_enabled: false
wordpress_external_db_ssl_ca: ""
wordpress_external_db_ssl_cert: ""
wordpress_external_db_ssl_key: ""

# AWS RDS/Aurora specific
wordpress_aws_rds_enabled: false
wordpress_aws_region: "us-east-1"
wordpress_aws_access_key: ""
wordpress_aws_secret_key: ""

# Google Cloud SQL specific
wordpress_gcp_cloudsql_enabled: false
wordpress_gcp_cloudsql_instance: ""
wordpress_gcp_cloudsql_proxy_enabled: true

# Azure Database specific
wordpress_azure_db_enabled: false
wordpress_azure_db_server: ""

# ============================================================================
# External Cache Configuration
# ============================================================================
wordpress_use_external_cache: false
wordpress_external_cache_type: "redis"  # redis, memcached, elasticache, memorystore

# AWS ElastiCache
wordpress_elasticache_enabled: false
wordpress_elasticache_endpoint: ""
wordpress_elasticache_port: 6379
wordpress_elasticache_cluster_mode: false

# Google Cloud Memorystore
wordpress_gcp_memorystore_enabled: false
wordpress_gcp_memorystore_instance: ""
wordpress_gcp_memorystore_host: ""
wordpress_gcp_memorystore_port: 6379

# Azure Cache for Redis
wordpress_azure_redis_enabled: false
wordpress_azure_redis_hostname: ""
wordpress_azure_redis_port: 6380
wordpress_azure_redis_password: ""
wordpress_azure_redis_ssl_enabled: true

# DigitalOcean Managed Redis
wordpress_do_redis_enabled: false
wordpress_do_redis_host: ""
wordpress_do_redis_port: 25061
wordpress_do_redis_password: ""

# ============================================================================
# Object Storage Configuration
# ============================================================================
wordpress_object_storage_enabled: false
wordpress_object_storage_provider: "s3"  # s3, spaces, gcs, azure_blob, oci_storage
wordpress_object_storage_bucket: ""
wordpress_object_storage_region: ""
wordpress_object_storage_endpoint: ""
wordpress_object_storage_path_prefix: "wp-content/uploads"

# AWS S3
wordpress_s3_enabled: false
wordpress_s3_bucket: ""
wordpress_s3_region: "us-east-1"
wordpress_s3_access_key: ""
wordpress_s3_secret_key: ""
wordpress_s3_cloudfront_enabled: false
wordpress_s3_cloudfront_domain: ""

# ============================================================================
# CDN Configuration
# ============================================================================
wordpress_cdn_provider: "none"  # none, cloudflare, cloudfront, fastly, bunnycdn
wordpress_cdn_enabled: false
wordpress_cdn_domain: ""
wordpress_cdn_ssl_enabled: true

# Cloudflare CDN
wordpress_cloudflare_cdn_enabled: false
wordpress_cloudflare_cache_ttl: 14400
wordpress_cloudflare_purge_on_update: true

# CloudFront CDN
wordpress_cloudfront_enabled: false
wordpress_cloudfront_distribution_id: ""

# BunnyCDN
wordpress_bunnycdn_enabled: false
wordpress_bunnycdn_pullzone: ""
wordpress_bunnycdn_api_key: ""

# ============================================================================
# High Availability Configuration
# ============================================================================
wordpress_ha_enabled: false
wordpress_ha_load_balancer: "none"  # none, nginx, haproxy, cloud_lb
wordpress_ha_nodes: []
# Example:
# wordpress_ha_nodes:
#   - host: "web1.example.com"
#     ip: "10.0.1.10"
#   - host: "web2.example.com"
#     ip: "10.0.1.11"

# Session management for HA
wordpress_ha_session_storage: "database"  # database, redis, memcached

# ============================================================================
# Performance Optimization
# ============================================================================
# HTTP/2 Server Push
wordpress_http2_push_enabled: true
wordpress_http2_push_preload: true

# Image optimization
wordpress_image_optimization_enabled: true
wordpress_webp_enabled: true
wordpress_avif_enabled: false

# Lazy loading
wordpress_lazy_load_enabled: true

# Critical CSS
wordpress_critical_css_enabled: false

# DNS prefetch
wordpress_dns_prefetch_enabled: true
wordpress_dns_prefetch_domains: []

# Preconnect
wordpress_preconnect_enabled: true
wordpress_preconnect_domains: []

# ============================================================================
# Email/SMTP Configuration
# ============================================================================
wordpress_smtp_enabled: false
wordpress_smtp_provider: "sendgrid"  # sendgrid, ses, mailgun, smtp, postmark
wordpress_smtp_host: "smtp.sendgrid.net"
wordpress_smtp_port: 587
wordpress_smtp_user: ""
wordpress_smtp_password: ""
wordpress_smtp_from_email: "noreply@{{ ansible_domain | default('example.com') }}"
wordpress_smtp_from_name: "{{ wordpress_site_title }}"
wordpress_smtp_encryption: "tls"  # tls, ssl, none
wordpress_smtp_auth: true

# SendGrid specific
wordpress_sendgrid_api_key: ""

# Amazon SES specific
wordpress_ses_region: "us-east-1"
wordpress_ses_access_key: ""
wordpress_ses_secret_key: ""

# Mailgun specific
wordpress_mailgun_domain: ""
wordpress_mailgun_api_key: ""

# Postmark specific
wordpress_postmark_api_key: ""
wordpress_postmark_server_token: ""
